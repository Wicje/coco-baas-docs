---
title: Download File
description: Download or get URL for a stored file
---

# Download File

Download a file or get its public URL.

## Get File URL

### Endpoint

```
GET /storage/files/{id}
```

### Parameters

| Parameter | Type | Location | Required | Description |
|-----------|------|----------|----------|-------------|
| `id` | string | path | Yes | File ID |

### Response

```json
{
  "success": true,
  "data": {
    "id": "file_abc123",
    "name": "image.jpg",
    "size": 1024000,
    "mimeType": "image/jpeg",
    "url": "https://storage.cocobase.buzz/files/abc123.jpg",
    "createdAt": "2024-01-15T10:30:00Z"
  }
}
```

### Example

```bash
curl https://api.cocobase.buzz/storage/files/file_abc123 \
  -H "Authorization: Bearer YOUR_API_KEY"
```

---

## Download File Content

### Endpoint

```
GET /storage/files/{id}/download
```

Returns the file content directly with appropriate headers.

### Response Headers

```
Content-Type: image/jpeg
Content-Length: 1024000
Content-Disposition: attachment; filename="image.jpg"
```

### Example

```bash
curl https://api.cocobase.buzz/storage/files/file_abc123/download \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -o downloaded-image.jpg
```

---

## Get Signed URL

Get a temporary signed URL for private files.

### Endpoint

```
GET /storage/files/{id}/signed-url
```

### Query Parameters

| Parameter | Type | Description |
|-----------|------|-------------|
| `expires` | number | Expiration time in seconds (default: 3600) |

### Response

```json
{
  "success": true,
  "data": {
    "url": "https://storage.cocobase.buzz/files/abc123.jpg?signature=...",
    "expiresAt": "2024-01-15T11:30:00Z"
  }
}
```

### Example

```bash
curl "https://api.cocobase.buzz/storage/files/file_abc123/signed-url?expires=7200" \
  -H "Authorization: Bearer YOUR_API_KEY"
```

---

## Examples

### JavaScript

```javascript
// Get file info
const response = await fetch(
  "https://api.cocobase.buzz/storage/files/file_abc123",
  {
    headers: {
      Authorization: "Bearer YOUR_API_KEY",
    },
  }
);
const { data: file } = await response.json();
console.log(file.url);

// Get signed URL
const signedResponse = await fetch(
  "https://api.cocobase.buzz/storage/files/file_abc123/signed-url?expires=3600",
  {
    headers: {
      Authorization: "Bearer YOUR_API_KEY",
    },
  }
);
const { data: signed } = await signedResponse.json();
console.log(signed.url);
```

### Python

```python
import requests

# Get file info
response = requests.get(
    "https://api.cocobase.buzz/storage/files/file_abc123",
    headers={"Authorization": "Bearer YOUR_API_KEY"},
)
file = response.json()["data"]
print(file["url"])

# Download file
download_response = requests.get(
    "https://api.cocobase.buzz/storage/files/file_abc123/download",
    headers={"Authorization": "Bearer YOUR_API_KEY"},
)
with open("downloaded-image.jpg", "wb") as f:
    f.write(download_response.content)
```

## Error Responses

### File Not Found

```json
{
  "success": false,
  "error": {
    "code": "NOT_FOUND",
    "message": "File not found"
  }
}
```
